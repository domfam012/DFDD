---
sidebar_position: 2
---

# API List

* API 목록

## 계정 권한 구분

| code   | name       |
|--------|------------|
| master | 돔팸 (웹 마스터) |
| admin  | 관리자        |
| user   | 일반 사용자     |

## 인증 토큰 (JWT)

| 토큰 이름   | 유효시간 | 설명                                                           |
|---------|------|--------------------------------------------------------------|
| a-token | 1 시간 | <ul><li>access token</li><li>AP 접근 시 사용</li></ul>            |
| r-token | 7 일  | <ul><li>refresh token</li><li>access-token 갱신 시 사용</li></ul> |

## API Prefix

| 구분     | Prefix     | Desc                     | Depth |
|--------|------------|--------------------------|-------|
| 글로벌    | `/api`     | 전체 API 적용                | 1     |
| 관리자    | `/admin`   | 관리자만 사용하는 API            | 2     |
| 인증     | `/auth`    | 로그인, 로그아웃, 메일/핸드폰 인증 등   | 3     |
| 계정     | `/account` | 회원가입, 내 정보, 비밀번호 확인/변경 등 | 3     |
| 파일     | `/file`    | 파일 업로드 등                 | 3     |
| 게시판    | `/post`    | 게시글 CRUD                 | 3     |
| 댓글/답변  | `/comment` | 댓글/답변 CRUD               | 4     |
| 메일 서비스 | `/mail`    | AWS SES 또는 메일 서비스        | 4     |
| 약관     | `/terms`   | 약관 정보 관리                 | 4     |

### API 예시

* 관리자만 접근 가능한 계정 API
    * `/api/admin/account/...`
* 모든 계정이 접근 가능한 계정 API
    * `/api/account/...`

## API 목록

| 아이콘 | 설명                              |
|-----|---------------------------------|
| ⭕️  | 로그인 필요                          |
| ❌   | 로그인 불필요                         |
| ✅   | API  사용 가능 (개발 완료)              |
| ⚠️  | API  사용 가능 (개발 진행 - 기타 로직 추가 중) |
| ⛔️  | API  사용 불가 (오류 또는 개발 전)         |

### 인증

| No. | API             | Method | Path                                         | Role | Desc                                                                                | 로그인 필요 여부 | 비고 |
|-----|-----------------|--------|----------------------------------------------|------|-------------------------------------------------------------------------------------|-----------|----|
| 1   | 로그인             | POST   | `/api/auth/login`                            | -    | 로그인                                                                                 | ❌         | ✅  |
| 2   | 로그아웃            | GET    | `/api/auth/logout`                           | -    | 로그아웃 및 헤더 쿠키 만료 처리                                                                  | ⭕️        | ✅  |
| 3   | 메일 인증 - 메일 전송   | GET    | `/api/auth/mail/send?site={siteName}&email=` | -    | 인증 메일 전송<ul><li>호출마다 이전에 전송된 인증 번호는 무시</li><li>중복 이메일 불가</li><li>유효시간 1시간</li></ul> | ❌         | ✅  |
| 4   | 메일 인증 - 인증번호 확인 | POST   | `/api/auth/mail/verify`                      | -    | 인증 번호 확인<ul><li>인증 완료되면 동일한 인증번호로 재인증 불가</li></ul>                                  | ❌         | ✅  |

### 관리자

| No. | API         | Method | Path                                        | Role          | Desc                               | 로그인 필요 여부 | 비고                               |
|-----|-------------|--------|---------------------------------------------|---------------|------------------------------------|-----------|----------------------------------|
| 1   | 계정 생성       | POST   | `/api/admin/account/create`                 | master, admin | 계정 생성 <ul><li>비밀번호 랜덤 생성</li></ul> | ⭕️        | ✅                                |
| 2   | 계정 목록       | POST   | `/api/admin/account/list`                   | master, admin | 계정 목록 조회                           | ⭕️        | ✅                                |
| 3   | 계정 관리       | POST   | `/api/admin/account/manage`                 | master, admin | 계정 상태 변경                           | ⭕️        | ✅                                |
| 4   | 댓글/답변 상태 변경 | GET    | `/api/admin/post/comment/{post_no}?status=` | master, admin | 댓글/답변이 달린 게시글의 댓글/답변에 대한 상태 변경     | ⭕️        | ✅                                |
| 5   | 계정 정보 조회    | GET    |                                             | master, admin | 계정 상세 정보 조회                        | ⭕️        | ⛔️ Todo<ul><li>path 변경</li></ul> |

### 계정

| No. | API          | Method | Path                                          | Role | Desc                                                | 로그인 필요 여부 | 비고 |
|-----|--------------|--------|-----------------------------------------------|------|-----------------------------------------------------|-----------|----|
| 1   | 회원가입         | POST   | `/api/account/register`                       | -    | 회원가입                                                | ❌         | ✅  |
| 2   | 사용자 정보       | GET    | `/api/account/info`                           | -    | 마이페이지 <ul><li>로그인한 계정의 상세정보</li></ul>               | ⭕️        | ✅  |
| 3   | 비밀번호 확인      | POST   | `/api/account/pw/check`                       | -    | 비밀번호 확인                                             | ⭕️        | ✅  |
| 4   | 비밀번호 변경      | POST   | `/api/account/pw/edit`                        | -    | 비밀번호 변경                                             | ⭕️        | ✅  |
| 5   | 계정 찾기 - 아이디  | GET    | `/api/account/find/id?site={siteName}&email=` | -    | 아이디 찾기<ul><li>이메일 전송</li></ul>                      | ❌         | ✅  |
| 6   | 계정 찾기 - 비밀번호 | GET    | `/api/account/find/pw?site={siteName}&email=` | -    | 비밀번호 찾기 <ul><li>랜덤 비밀번호 생성</li><li>이메일 전송</li></ul> | ❌         | ✅  |

### 파일

| No. | API        | Method | Path                      | Role | Desc                                                     | 로그인 필요 여부 | 비고                                                 |
|-----|------------|--------|---------------------------|------|----------------------------------------------------------|-----------|----------------------------------------------------|
| 1   | 에디터 파일 업로드 | POST   | `/api/file/upload/editor` | -    | 에디터에서 사용하는 파일 업로드 <ul><li>S3에 업로드 된 파일의 URL 반환</li></ul> | ⭕️        | ⚠️ Todo<ul><li>이미지 대체 텍스트 및 파일 설명 데이터 저장</li></ul> |

### 게시판

| No. | API         | Method | Path                       | Role               | Desc                                                                  | 로그인 필요 여부 | 비고                                                 |
|-----|-------------|--------|----------------------------|--------------------|-----------------------------------------------------------------------|-----------|----------------------------------------------------|
| 1   | 게시글 목록      | POST   | `/api/post/list`           | -                  | 게시글 목록 조회                                                             | ❌         | ✅                                                  |
| 2   | 게시글 상세      | POST   | `/api/post/{post_no}`      | -                  | 게시글 상세 조회 <ul><li>이전/다음 글 포함</li></ul>                                | ❌         | ✅                                                  |
| 3   | 게시글 생성      | POST   | `/api/post/create`         | -                  | 게시글 생성<ul><li>고정 게시글 최대 3개</li><li>초과 시 오래된 고정 게시글 고정 자동 해제</li></ul> | ⭕️        | ⚠️ Todo<ul><li>이미지 대체 텍스트 및 파일 설명 데이터 저장</li></ul> |
| 4   | 게시글 수정      | POST   | `/api/post/edit`           | master, admin, 작성자 | 게시글 수정<ul><li>고정 게시글 최대 3개</li><li>초과 시 오래된 고정 게시글 고정 자동 해제</li></ul> | ⭕️        | ⚠️ Todo<ul><li>이미지 대체 텍스트 및 파일 설명 데이터 저장</li></ul> |
| 5   | 게시글 삭제      | DELETE | `/api/post/{post_no}`      | master, admin, 작성자 | 게시글 삭제                                                                | ⭕️        | ✅                                                  |
| 6   | 댓글/답변 생성    | POST   | `/api/post/comment/create` | -                  | 댓글/답변 생성                                                              | ⭕️        | ✅                                                  |
| 7   | 댓글/답변 수정/삭제 | POST   | `/api/post/comment/edit`   | master, admin, 작성자 | 댓글/답변 수정 또는 삭제                                                        | ⭕️        | ✅                                                  |

### 약관

| No. | API   | Method | Path                          | Role | Desc                  | 로그인 필요 여부 | 비고 |
|-----|-------|--------|-------------------------------|------|-----------------------|-----------|----|
| 1   | 약관 목록 | GET    | `/api/terms/list`             | -    | 사용중인 약관 목록 조회         | ❌         | ✅  |
| 2   | 약관 상세 | GET    | `/api/terms/detail?category=` | -    | 약관 종류에 따른 최신 버전 상세 내용 | ❌         | ✅  |


